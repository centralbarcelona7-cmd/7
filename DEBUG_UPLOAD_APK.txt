üîß DEBUG - ERRO AO ENVIAR APK
==============================

‚úÖ SISTEMA DE DEBUG IMPLEMENTADO!

üéØ PROBLEMA:
-------------
"Erro ao enviar APK" aparecendo
Necess√°rio identificar causa

üîß DEBUG IMPLEMENTADO:
----------------------

### 1. **ARQUIVO test_php.php:**
```
üìÑ test_php.php - Testa se PHP funciona
```
**Acesse:** http://localhost/LEILAO/test_php.php

### 2. **LOGS DETALHADOS:**
- ‚úÖ **upload_apk.php** - Logs no error_log do PHP
- ‚úÖ **admin.js** - Logs detalhados no console
- ‚úÖ **Response status** - C√≥digo HTTP
- ‚úÖ **Response text** - Resposta do servidor

### 3. **VERIFICA√á√ïES:**
- ‚úÖ **Pasta apk/** existe?
- ‚úÖ **Permiss√µes** de escrita?
- ‚úÖ **Configura√ß√µes PHP** corretas?

üß™ COMO DEBUGAR:
----------------

### **PASSO 1 - Testar PHP:**
1. ‚úÖ Acesse: `http://localhost/LEILAO/test_php.php`
2. ‚úÖ Deve mostrar:
   ```
   PHP est√° funcionando!
   ‚úÖ Pasta 'apk' j√° existe
   ‚úÖ Pasta 'apk' tem permiss√£o de escrita
   upload_max_filesize: 64M
   post_max_size: 64M
   ```

### **PASSO 2 - Tentar Upload:**
1. ‚úÖ Abra admin ‚Üí "APK do App"
2. ‚úÖ Fa√ßa upload do APK
3. ‚úÖ Abra console (F12)
4. ‚úÖ Veja logs detalhados

### **PASSO 3 - Verificar Logs:**
**Console (F12):**
```
[DEBUG] Response status: 200
[DEBUG] Response text: {"success":true,"message":"APK salvo com sucesso!"}
[SUCCESS] APK salvo: Assinatura.apk (7.00 MB)
```

**OU se erro:**
```
[ERROR] Erro na requisi√ß√£o: TypeError: Failed to fetch
[ERROR] Response status: 500
[ERROR] Response text: {"success":false,"message":"Erro ao salvar arquivo"}
```

### **PASSO 4 - Verificar Logs PHP:**
**Arquivo de log do XAMPP:**
```
=== UPLOAD APK DEBUG ===
REQUEST_METHOD: POST
FILES data: Array ( [apk_file] => Array ( [name] => Assinatura.apk [size] => 7340032 ) )
‚úÖ APK salvo com sucesso: apk/app.apk
```

**OU se erro:**
```
‚ùå Erro ao mover arquivo: /tmp/phpXXXXXX para apk/app.apk
‚ùå Erro: Array ( [type] => 2 [message] => mkdir(): Permission denied )
```

üîç POSS√çVEIS CAUSAS:
--------------------

### **1. PHP N√ÉO FUNCIONA:**
- ‚ùå test_php.php n√£o carrega
- **Solu√ß√£o:** Verificar se XAMPP est√° rodando

### **2. PASTA SEM PERMISS√ÉO:**
- ‚ùå "Pasta 'apk' N√ÉO tem permiss√£o de escrita"
- **Solu√ß√£o:** `chmod 755 apk/` ou recriar pasta

### **3. LIMITE DE UPLOAD:**
- ‚ùå upload_max_filesize muito baixo
- **Solu√ß√£o:** Editar php.ini

### **4. ERRO NO MOVE_UPLOADED_FILE:**
- ‚ùå Arquivo n√£o move para pasta
- **Solu√ß√£o:** Verificar permiss√µes e caminho

### **5. CORS OU HEADERS:**
- ‚ùå "Failed to fetch"
- **Solu√ß√£o:** Verificar se est√° acessando via localhost

üß™ TESTE AGORA:
---------------

### **TESTE 1:**
1. ‚úÖ Acesse `http://localhost/LEILAO/test_php.php`
2. ‚úÖ Confirme que PHP funciona
3. ‚úÖ Confirme permiss√µes da pasta

### **TESTE 2:**
1. ‚úÖ Abra admin ‚Üí "APK do App"
2. ‚úÖ Fa√ßa upload do APK
3. ‚úÖ Abra console (F12)
4. ‚úÖ Veja logs detalhados

### **TESTE 3:**
1. ‚úÖ Verifique se pasta apk/ tem arquivo app.apk
2. ‚úÖ Verifique se apk_info.json foi criado

üí° SOLU√á√ïES R√ÅPIDAS:
--------------------

### **SE PHP N√ÉO FUNCIONA:**
```bash
# Iniciar XAMPP
# Acessar http://localhost
```

### **SE SEM PERMISS√ÉO:**
```bash
# No terminal, na pasta do projeto:
chmod 755 apk/
# OU deletar e recriar pasta apk/
```

### **SE LIMITE BAIXO:**
```php
// No php.ini:
upload_max_filesize = 100M
post_max_size = 100M
max_execution_time = 300
```

### **SE ERRO CORS:**
- ‚úÖ Acessar via `http://localhost/LEILAO/`
- ‚ùå N√ÉO via `file://`

üéØ RESULTADO ESPERADO:
----------------------

### **‚úÖ FUNCIONANDO:**
- test_php.php mostra tudo OK
- Upload mostra "APK salvo com sucesso!"
- Pasta apk/ tem app.apk e apk_info.json

### **‚ùå COM ERRO:**
- Logs mostram erro espec√≠fico
- F√°cil identificar causa
- Solu√ß√£o direcionada

üì± TESTE E ME INFORME OS LOGS! üì±‚ú®

**Agora temos debug completo!**
- Teste test_php.php primeiro
- Fa√ßa upload e veja logs
- Me informe o que aparece no console

üîß DEBUG COMPLETO IMPLEMENTADO! üîß

